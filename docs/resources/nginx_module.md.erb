---
title: The `nginx_module` resource
---

# nginx_module

Use the `nginx_module` InSpec audit resource to test nginx modules on Linux platforms.
Nginx resource extracts and exposes data reported by the command 'nginx -V'

## Syntax

A `nginx_module` resource block declares a module name, and then tests if that module is loaded:

    describe nginx_module(nginx_path:'path_to_nginx', module_name:'my_module') do
      it { should be_loaded }
    end

where

* `'nginx_path:'` is assigned to the path to nginx binary or ommited to use default path`
* `'module_name:'` is the nginx module to be tested, such as `'http_ssl'`
* `{ should be_loaded }` tests if the module is loaded and or compiled into nginx

## Supported Properties

### loaded? (bool)

`loaded?` returns `true` if the module is loaded on nginx instance

    describe nginx_module(module_name: 'my_module') do
      it { should be_loaded }
    end

    describe nginx_module(module_name: 'fake_module') do
      it { should_not be_loaded }
    end

    describe nginx_module(nginx_path:'path_to_nginx', module_name:'my_module') do
      it { should be_loaded }
    end

### loaded_modules ([String])

`loaded_modules ` returns an array of loaded modules for the nginx instance

    describe nginx_module do
      its('loaded_modules.length') { should cmp > 1 }
    end

    describe nginx_module do
      its('loaded_modules') { should include 'http_ssl' }
    end

    describe nginx_module(nginx_path: 'path_to_nginx') do
      its('loaded_modules') { should include 'http_ssl' }
    end
