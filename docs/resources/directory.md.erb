---
title: About the directory Resource
platform: os
---

# directory

Use the `directory` InSpec audit resource to test if the file type is a directory. This is equivalent to using the `file` resource and the `be_directory` matcher, but provides a simpler and more direct way to test directories.

<br>

## Availability

### Installation

This resource is distributed along with InSpec itself. You can use it automatically.

### Version

This resource first became available in v1.0.0 of InSpec.

## Syntax

A `directory` resource block declares the location of the directory to be tested, and then one (or more) matchers.

    describe directory('path') do
      its('property') { should cmp 'value' }
    end

<br>

## Properties

All of the properties available to `file` may be used with `directory`.

### file_count

The `file_count` property returns an integer of the number of files directly under the directory. It does not recurse directories and removes `.` and `..` entries. This is helpful for both verifying a directory is empty or if there are files present.

  # empty directory
  its('file_count') { should eq 0 }
  # one or more files present
  its('file_count') { should be > 0 }

The original use case was when refacoring an internal sensu cookbook. There are constructs that were not understood correctly and serverside components were being added to clients. As the directory gets created whether its a client or server (as they may be both) checking its existence is not enough we need to verify the file count to ensure that people only add serverside bits on the server and not on the client.

<br>

### property Examples

#### verify that a directory is not empty

  describe directory('/tmp') do
    it { should exist }
    it { should be_directory }
    its('file_count') { should be > 0 }
  end

#### verify that a directory is empty

  describe directory('/foo') do
    it { should exist }
    it { should be_directory }
    its('file_count') { should eq 0 }
  end


## Matchers

For a full list of available matchers, please visit our [matchers page](https://www.inspec.io/docs/reference/matchers/).
